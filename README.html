<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fullstack Reservation App Coding Challenge</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }
      h1,
      h2,
      h3 {
        color: #333;
      }
      .container {
        width: 80%;
        margin: auto;
        padding: 20px;
      }
      ul {
        list-style-type: none;
        padding: 0;
      }
      ul li {
        padding: 5px 0;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      table,
      th,
      td {
        border: 1px solid #ddd;
      }
      th,
      td {
        padding: 10px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
      a {
        color: #007bff;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Fullstack Reservation App Coding Challenge</h1>

      <p>
        This coding challenge involves building a fullstack web app using React
        (frontend) and Node (backend).
      </p>

      <p>This repository consists of the following files and folders:</p>
      <ul>
        <li><code>package.json</code></li>
        <li>
          <code>db/restaurant_reservation_schema_init.sql</code> (for restaurant
          and reservation tables)
        </li>
        <li>
          <code>db/restaurant_reservation_seed_data.sql</code> (sample data for
          restaurant and reservation)
        </li>
        <li><code>app-screenshots</code> (design inspiration)</li>
        <li><code>README.html</code></li>
        <li><code>README.md</code></li>
        <li><code>server.js</code></li>
      </ul>

      <h2>Timeline</h2>
      <p>One week to complete this</p>

      <h2>Tips</h2>
      <p>Make sure Postgres is turned on</p>

      <h2>Deployment</h2>
      <p>
        Since Heroku is no longer free, you can choose between using Render or
        Netlify for deployment.
      </p>
      <ul>
        <li><a href="https://render.com/">Render</a></li>
        <li><a href="https://www.netlify.com/">Netlify</a></li>
      </ul>

      <h2>Technical Requirements - Part 1</h2>
      <h3>Adding Validation</h3>
      <p>You may use any third-party libraries or packages for user sign-up.</p>

      <h4>User Table</h4>
      <ul>
        <li><strong>id</strong>: Sequential, generated by the database</li>
        <li><strong>username</strong>: String, cannot be null</li>
        <li><strong>email</strong>: String, cannot be null</li>
        <li><strong>password</strong>: String, cannot be null</li>
      </ul>

      <h4>User Reservation Table</h4>
      <ul>
        <li><strong>id</strong>: Sequential, generated by the database</li>
        <li><strong>restaurant_id</strong>: References the restaurant ID</li>
        <li><strong>reservation_id</strong>: References the reservation ID</li>
      </ul>

      <p>
        Ensure that all user inputs are validated and sanitized. For example,
        when handling the username input (both on the frontend and backend),
        special characters should be prohibited. If a user attempts to enter
        special characters on the frontend, display the message “Special
        characters are not allowed.” Similarly, if a user uses Postman to send a
        request to the backend with special characters, the response should also
        be “Special characters are not allowed.”
      </p>

      <p>
        You may consider using validation libraries such as Joi or Validator,
        but you are free to create your own validation logic or use any
        third-party libraries.
      </p>

      <p>
        <strong>Note:</strong> All input should be thoroughly validated and
        sanitized. Passwords must meet the following criteria: at least 8
        characters in length, containing at least one special character, one
        number, and one uppercase letter.
      </p>

      <h3>IMPORTANT:</h3>
      <ul>
        <li>The database must be PostgreSQL.</li>
        <li>
          You can use any query builder or ORM of your choice, such as Knex,
          Sequelize, or TypeORM.
        </li>
        <li>
          <strong>Folder Structure:</strong> Design and organize the folder
          structure based on best practices and your judgment for optimal
          organization and maintainability.
        </li>
      </ul>

      <h4>API for Frontend and Backend User</h4>
      <table>
        <thead>
          <tr>
            <th>Method</th>
            <th>Endpoint</th>
            <th>Description</th>
            <th>Example JSON Body Payload</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>GET</td>
            <td>/sign-up</td>
            <td>Sign user up</td>
            <td></td>
          </tr>
          <tr>
            <td>POST</td>
            <td>/login</td>
            <td>Login user in</td>
            <td></td>
          </tr>
          <tr>
            <td>PUT</td>
            <td>/update-user</td>
            <td>Update user profile</td>
            <td></td>
          </tr>
          <tr>
            <td>DELETE</td>
            <td>/delete-user</td>
            <td>Delete user profile</td>
            <td></td>
          </tr>
        </tbody>
      </table>

      <p>
        You are allowed to use any encryption library for encrypting and
        decrypting user passwords.
      </p>

      <p>
        Additionally, you are to make a decision between using JWT or sessions
        to keep track of user authentication.
      </p>

      <h3>App Pages User</h3>
      <p>Your Reservation App should have the following pages:</p>

      <h4>Sign Up (`/sign-up`)</h4>
      <ul>
        <li>Create a new account by providing required details.</li>
        <li><strong>Username</strong>: Must be unique and non-null.</li>
        <li><strong>Email</strong>: Must be valid and non-null.</li>
        <li>
          <strong>Password</strong>: Must be at least 8 characters long and
          include one special character, one number, and one uppercase letter.
        </li>
        <li>
          <strong>Confirm password</strong>: Ensure it matches the original
          password.
        </li>
        <li>Receive a confirmation email to verify the account.</li>
        <li>
          Handle errors: Provide clear messages for invalid input or existing
          accounts.
        </li>
      </ul>

      <h4>POST `/login`</h4>
      <ul>
        <li>
          Authenticate users by providing their username/email and password.
        </li>
        <li>
          Check credentials: Verify that the username/email and password match a
          registered account.
        </li>
        <li>Return a token or session ID upon successful login.</li>
        <li>
          Handle errors: Provide clear messages for incorrect credentials or
          inactive accounts.
        </li>
        <li>Lock the account for 1 hour if 5 failed attempts (Bonus)</li>
      </ul>

      <h4>PUT `/update-user`</h4>
      <ul>
        <li>Update user profile with new details.</li>
        <li>
          <strong>Required fields</strong>: Allow updating username, email, and
          password
        </li>
        <li>
          Validate input: Ensure all new details meet the required criteria.
        </li>
        <li>
          Handle errors: Provide messages for invalid input or attempts to
          update non-existent profiles.
        </li>
      </ul>

      <h4>DELETE `/delete-user`</h4>
      <ul>
        <li>Delete user profile from the system.</li>
        <li>
          Authenticate the request: Ensure the user requesting deletion is
          logged in.
        </li>
        <li>
          Handle dependencies: Ensure that associated data (e.g., reservations)
          is managed as required.
        </li>
        <li>
          Confirm deletion: Provide a confirmation message or status upon
          successful deletion.
        </li>
        <li>
          Handle errors: Provide messages for unauthorized access or attempts to
          delete non-existent profiles.
        </li>
      </ul>

      <h2>Navbar</h2>
      <p>
        Ensure the implementation of a fully functional Navbar with the
        following features:
      </p>
      <ul>
        <li>
          <strong>Dynamic State Handling</strong>: Toggle between states for
          authenticated and unauthenticated users.
          <ul>
            <li>
              <strong>Authenticated Users</strong>: Display relevant navigation
              options such as profile, settings, and logout.
            </li>
            <li>
              <strong>Unauthenticated Users</strong>: Show options like login,
              sign-up, and general site navigation.
            </li>
          </ul>
        </li>
        <li>
          <strong>Consistent Styling</strong>: Maintain a consistent design and
          layout that aligns with the overall application theme.
        </li>
        <li>
          <strong>Responsive Design</strong>: Ensure the Navbar is responsive
          and user-friendly across different devices and screen sizes.
        </li>
      </ul>

      <h2>Technical Requirement Part 2</h2>
      <p>
        Create a client for a Restaurant Reservations application. Users are
        able to:
      </p>
      <ul>
        <li>Add Restaurants</li>
        <li>Search Restaurants</li>
        <li>Create and Update Reservations</li>
        <li>List all Reservations</li>
        <li>View Details for Individual Reservations or Restaurants</li>
      </ul>

      <p><strong>IMPORTANT MUST READ:</strong></p>
      <ul>
        <li>
          Users can search for any restaurant using the API, but only registered
          users are allowed to make reservations.
        </li>
        <li>
          Ensure that all reservation-related APIs are secured and protected to
          prevent unauthorized access.
        </li>
      </ul>

      <h4>API for Frontend and Backend Restaurant and Reservation</h4>
      <table>
        <thead>
          <tr>
            <th>Method</th>
            <th>Endpoint</th>
            <th>Description</th>
            <th>Example JSON Body Payload</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>GET</td>
            <td>/api/restaurants</td>
            <td>List restaurants (empty query string = all restaurants)</td>
            <td></td>
          </tr>
          <tr>
            <td>GET</td>
            <td>/api/restaurants/:id</td>
            <td>Retrieve a restaurant by ID</td>
            <td></td>
          </tr>
          <tr>
            <td>GET</td>
            <td>/api/restaurants/:id/reservations</td>
            <td>Retrieve all reservations at a restaurant</td>
            <td></td>
          </tr>
          <tr>
            <td>POST</td>
            <td>/api/restaurants</td>
            <td>Create a restaurant</td>
            <td>
              { "name": "Subway", "description": "Build-your-own sandwich
              chain", "phoneNumber": "0001112222", "openingTime": "10:00:00",
              "closingTime": "22:00:00", "price": "$", "cuisine": "American",
              "location": "New York City", "diningRestriction": "Takeout Only" }
            </td>
          </tr>
          <tr>
            <td>PATCH</td>
            <td>/api/restaurants/:id</td>
            <td>Update an existing Restaurant</td>
            <td>
              { "description": "SUBWAY -- NOW WITH PIZZA", "phoneNumber":
              "7188212995" }
            </td>
          </tr>
          <tr>
            <td>DELETE</td>
            <td>/api/restaurants/:id</td>
            <td>Delete a restaurant</td>
            <td></td>
          </tr>
          <tr>
            <td>GET</td>
            <td>/api/reservations</td>
            <td>Retrieve all reservations</td>
            <td></td>
          </tr>
          <tr>
            <td>GET</td>
            <td>/api/reservations/:id</td>
            <td>Retrieve a reservation by ID</td>
            <td></td>
          </tr>
          <tr>
            <td>POST</td>
            <td>/api/reservations/</td>
            <td>
              Create a reservation. restaurantId must be the id of a valid
              Restaurant
            </td>
            <td>
              { "firstName": "Joe", "lastName": "Smith", "phoneNumber":
              "9098087777", "email": "joesmith@pursuit.com", "time": "2022-06-01
              19:00:00", "numGuests": "2", "restaurantId":
              "470d7797-8ece-4133-9885-c5651fd90625" }
            </td>
          </tr>
          <tr>
            <td>PATCH</td>
            <td>/api/reservations/:id</td>
            <td>Update an existing Reservation</td>
            <td>{ "time": "2022-06-01 19:30:00", "numGuests": "4" }</td>
          </tr>
          <tr>
            <td>DELETE</td>
            <td>/api/reservations/:id</td>
            <td>Delete a reservation</td>
            <td></td>
          </tr>
        </tbody>
      </table>

      <h3>App Pages/Views</h3>
      <p>Your Reservation App should have the following pages:</p>

      <h4>Search Restaurants (`/restaurants`)</h4>
      <ul>
        <li>User can search restaurants (text search bar)</li>
        <li>
          User can filter restaurants by the filters defined in the API
          (pre-built filters: cuisine, location, price, Takeout/Delivery)
        </li>
        <li>If no filters are applied, User can view all Restaurants</li>
      </ul>

      <h4>Create Restaurant (`/newRestaurant`)</h4>
      <ul>
        <li>
          User can fill out a form to create a restaurant based on the fields
          defined in the API
        </li>
      </ul>

      <h4>Single Restaurant (`/restaurants/:id`)</h4>
      <ul>
        <li>
          User can view all details about the restaurant (Name, Description,
          Location, Price, Hours...)
        </li>
        <li>
          User can create a reservation for any time in the future when the
          restaurant is open
        </li>
      </ul>

      <h4>All Reservations (`/reservations`)</h4>
      <ul>
        <li>User can view all reservations</li>
      </ul>

      <h4>Single Reservation (`/reservations/:id`)</h4>
      <ul>
        <li>User can view active reservation details</li>
        <li>Additional Challenge: User can update existing reservations</li>
      </ul>

      <h2>Styling:</h2>
      <p>
        You may use any 3rd-party libraries or packages for functionality or
        styling.
      </p>

      <h2>Schema</h2>
      <h4>Restaurant Fields:</h4>
      <ul>
        <li>
          Required: name, description, price, cuisine, location, openingTime,
          closingTime
        </li>
        <li>
          Optional: phoneNumber, diningRestriction ('Takeout Only', 'Delivery
          Only'), tables
        </li>
      </ul>

      <h4>Reservation Fields:</h4>
      <ul>
        <li>Required: firstName, lastName, phoneNumber, time, numGuests</li>
        <li>Optional: email</li>
      </ul>

      <h2>Extra notes</h2>
      <ul>
        <li>Make sure you implement the following:</li>
        <li><code>.gitignore</code></li>
        <li><code>.env</code></li>
      </ul>

      <h2>Summary</h2>
      <p>Please provide documentation on the following aspects:</p>
      <ul>
        <li>
          <strong>Thought Process:</strong> Describe the reasoning behind your
          decisions and the rationale for the approaches you chose.
        </li>
        <li>
          <strong>Design Process:</strong> Include low-fidelity mockups to
          illustrate your initial design concepts and layout ideas.
        </li>
      </ul>

      <h2>Submission</h2>
      <p>
        Please submit the GitHub links for both the frontend and backend, as
        well as the deployment links for both the frontend and backend.
      </p>
      <ul>
        <li>
          <a
            href="https://docs.google.com/forms/d/1VVXg7gkut25oAiXRIvwuKolIctP3edIua1lqbS0ZwDs/edit"
            >Survey</a
          >
        </li>
      </ul>

      <h2>Bonuse (Optional)</h2>
      <ol>
        <li>Implement testing for both frontend and backend</li>
      </ol>
    </div>
  </body>
</html>
